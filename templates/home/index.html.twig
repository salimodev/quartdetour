{% extends 'layout.html.twig' %}

{% block title %}Quart de Tour{% endblock %}
 {% block Head %}
        {{ parent() }}
{% block LinksCss %}
     {{ parent() }}  
    
{% endblock %}
    
    {% endblock %}
{% block Content %}
{{ parent() }} 
<body>
   

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„Ù…Ø¹Ø¯Ù„ -->
    <section class="hero">
        <div class="hero-content">
            <h1>Quart de Tour</h1>
            <p class="hero-subtitle">La plateforme qui rÃ©volutionne l'achat et la vente de piÃ¨ces automobiles en Tunisie</p>
        </div>
    </section>

   <!-- Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ -->
<section class="user-sections">
    <h2 class="section-title">Choisissez votre <span class="highlight">profil</span></h2>
    <div class="circle-container">
        <div class="center-circle">
            Quart de Tour<br>Platform
        </div>

     <div class="user-circle" style="--angle: 0deg;" data-user="PropriÃ©taire" data-role="proprietaire">
      <div class="user-icon">ğŸš—</div>
      <h3>PropriÃ©taire</h3>
  </div>

  <div class="user-circle" style="--angle: 72deg;" data-user="MÃ©canicien">
      <div class="user-icon">ğŸ”§</div>
      <h3>MÃ©canicien</h3>
  </div>

  <div class="user-circle" style="--angle: 144deg;" data-user="Vendeur Neuf">
      <div class="user-icon">ğŸ¢</div>
      <h3>Vendeur Neuf</h3>
  </div>

  <div class="user-circle" style="--angle: 216deg;" data-user="Vendeur Occasion">
      <div class="user-icon">ğŸ”„</div>
      <h3>Vendeur Occasion</h3>
  </div>

  <div class="user-circle" style="--angle: 288deg;" data-user="Particulier">
      <div class="user-icon">ğŸ¯</div>
      <h3>Particulier</h3>
  </div>
    </div>
</section>
<!-- Popup -->
<!-- âœ… Modal Bootstrap -->
{% if not app.user %}
<div class="role-popup" id="rolePopup" style="display: none;">
    <div class="popup-content">
      <h3 id="popupRole" style="color:#fff">PropriÃ©taire</h3>
      <div class="popup-buttons">
        <button class="btn-popup" onclick="window.location.href='{{ path('app_login') }}'">Se connecter</button>
        <button class="btn-popup" onclick="window.location.href='{{ path('app_register') }}'">S'inscrire</button>
        <button class="btn-popup">Inviter</button>
      </div>
      <button class="popup-close">âœ–</button>
    </div>
  </div>
{% endif %}
    <!-- Ù‚Ø³Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø© -->
    <section class="recent-requests">
        <h2 class="section-title">Demandes <span class="highlight">rÃ©centes</span></h2>
        <div class="requests-grid">
            <!-- Ø·Ù„Ø¨ 1 -->
            <div class="request-card">
                <div class="request-header">
                    <div class="request-title">Freins avant BMW X5 2015</div>
                    <div class="request-badge">Nouvelle</div>
                </div>
                <div class="request-meta">
                    <span>ğŸ“ Tunis</span>
                    <span>ğŸ‘¤ Mohamed</span>
                    <span>ğŸ•’ 2h</span>
                </div>
                <div class="request-image">ğŸ“· Image de la piÃ¨ce demandÃ©e</div>
                <p class="request-text">Je cherche des disques et plaquettes de frein avant originaux pour BMW X5 2015. Ã‰tat neuf uniquement.</p>
                <button class="btn btn-offer">ğŸ“© Proposer un prix</button>
            </div>
            
            <!-- Ø·Ù„Ø¨ 2 -->
            <div class="request-card">
                <div class="request-header">
                    <div class="request-title">RÃ©troviseur Renault Clio 4</div>
                    <div class="request-badge">Occasion</div>
                </div>
                <div class="request-meta">
                    <span>ğŸ“ Sfax</span>
                    <span>ğŸ‘¤ Sarah</span>
                    <span>ğŸ•’ 5h</span>
                </div>
                <div class="request-image">ğŸ“· Image de la piÃ¨ce demandÃ©e</div>
                <p class="request-text">RÃ©troviseur cÃ´tÃ© conducteur, couleur noir. Ã‰tat correct acceptÃ©. Budget maximum 80 DT.</p>
                <button class="btn btn-offer">ğŸ“© Proposer un prix</button>
            </div>
            
            <!-- Ø·Ù„Ø¨ 3 -->
            <div class="request-card">
                <div class="request-header">
                    <div class="request-title">Service rÃ©paration embrayage</div>
                    <div class="request-badge">Service</div>
                </div>
                <div class="request-meta">
                    <span>ğŸ“ Sousse</span>
                    <span>ğŸ‘¤ MÃ©canicien Pro</span>
                    <span>ğŸ•’ 1j</span>
                </div>
                <div class="request-image">ğŸ“· Photo du vÃ©hicule</div>
                <p class="request-text">Propose service de remplacement d'embrayage pour tous modÃ¨les. Garantie 6 mois.</p>
                <button class="btn btn-offer">ğŸ“ Contacter</button>
            </div>
        </div>
    </section>

    

   
</body>
{% endblock %}
{% block javascript %}
{{ parent() }}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
      const circles = document.querySelectorAll('.user-circle');
      const popup = document.getElementById('rolePopup');
      const popupRole = document.getElementById('popupRole');
      const closeBtn = document.querySelector('.popup-close');
      circles.forEach(circle => {
        circle.addEventListener('click', () => {
          popupRole.textContent = circle.querySelector('h3').textContent;
          popup.style.display = 'flex';
        });
      });
      closeBtn.addEventListener('click', () => popup.style.display = 'none');
      popup.addEventListener('click', e => { if (e.target === popup) popup.style.display = 'none'; });
    });
  </script>
{% endblock %}